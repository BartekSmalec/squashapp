<div *ngIf="this.tournament">
  <mat-form-field>
    <input
      matInput
      (keyup)="applyFilter($event.target.value)"
      placeholder="Filter"
    />
  </mat-form-field>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="matchId">
      <th mat-header-cell *matHeaderCellDef>Id</th>
      <td mat-cell *matCellDef="let element">{{ element.matchId }}</td>
    </ng-container>

    <ng-container matColumnDef="firstPerson">
      <th mat-header-cell *matHeaderCellDef>First person</th>
      <td mat-cell *matCellDef="let element">
        <button
          (click)="goToUserProfile(element.firstPerson.userName)"
          mat-stroked-button
          color="primary"
        >
          {{ element.firstPerson.userName }}
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="secondPerson">
      <th mat-header-cell *matHeaderCellDef>Second person</th>
      <td mat-cell *matCellDef="let element">
        <button
          (click)="goToUserProfile(element.secondPerson.userName)"
          mat-stroked-button
          color="primary"
        >
          {{ element.secondPerson.userName }}
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="round">
      <th mat-header-cell *matHeaderCellDef>Round</th>
      <td mat-cell *matCellDef="let element">{{ element.round }}</td>
    </ng-container>

    <ng-container matColumnDef="addSet">
      <th mat-header-cell *matHeaderCellDef>Add match</th>
      <td mat-cell *matCellDef="let element">
        <button
          (click)="goToSets(element.matchId)"
          mat-raised-button
          color="primary"
        >
          Add set
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <div class="container">
    <div class="addMatchForm">
      <p>
        <mat-form-field appearance="legacy">
          <mat-label>Date</mat-label>

          <input
            [(ngModel)]="this.temporarMatch.date"
            matInput
            [matDatepicker]="picker"
            placeholder="Choose a date"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-hint>Hint</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="standard">
          <mat-label>Round</mat-label>
          <input
            [(ngModel)]="this.temporarMatch.round"
            matInput
            placeholder="Round"
          />
          <mat-hint>Hint</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="standard">
          <mat-label>First person </mat-label>
          <mat-select [(ngModel)]="this.firstPersonName">
            <mat-option
              *ngFor="let user of this.tournament.participants"
              [value]="user.userName"
            >
              {{ user.userName }}
            </mat-option>
          </mat-select>
          <mat-hint>Hint</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="standard">
          <mat-label>Second person </mat-label>
          <mat-select [(ngModel)]="this.secondPersonName">
            <mat-option
              *ngFor="let user of this.tournament.participants"
              [value]="user.userName"
            >
              {{ user.userName }}
            </mat-option>
          </mat-select>
          <mat-hint>Hint</mat-hint>
        </mat-form-field>
      </p>

      <button
        class="addMatch"
        (click)="addMatch()"
        mat-raised-button
        color="primary"
      >
        Add match
      </button>
    </div>

    <div class="addComment">
      <mat-form-field>
        <mat-label>Font size</mat-label>
        <mat-select #fontSize value="16px" (selectionChange)="triggerResize()">
          <mat-option value="10px">10px</mat-option>
          <mat-option value="12px">12px</mat-option>
          <mat-option value="14px">14px</mat-option>
          <mat-option value="16px">16px</mat-option>
          <mat-option value="18px">18px</mat-option>
          <mat-option value="20px">20px</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field [style.fontSize]="fontSize.value">
        <mat-label>Autosize textarea</mat-label>
        <textarea
          [(ngModel)]="this.comment.content"
          matInput
          cdkTextareaAutosize
          #autosize="cdkTextareaAutosize"
          cdkAutosizeMinRows="1"
          cdkAutosizeMaxRows="5"
        ></textarea>
      </mat-form-field>

      <button
        class="addCommentButton"
        (click)="addCommentButton()"
        mat-raised-button
        color="primary"
      >
        Add Comment
      </button>
    </div>

    <div class="comment">
      <div
        *ngFor="let comment of this.tournament.comments; index as i"
        class="comments"
      >
        <div *ngIf="i <= 5">
          <b>
            Comment:
          </b>
          {{ comment.content }}
          <br />
          <b>
            Author:
          </b>
          {{ comment.author.userName }}
          <br />
          <b>
            Date:
          </b>
          {{ comment.date }}
        </div>
      </div>
    </div>
  </div>
</div>
